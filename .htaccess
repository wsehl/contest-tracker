RewriteEngine on 
RewriteCond %{THE_REQUEST} /([^.]+)\.php [NC]
RewriteRule ^ /%1 [NC,L,R]

RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^ %{REQUEST_URI}.php [NC,L]

ErrorDocument 404 '<div style="display:flex;align-items: center;justify-content: center;height: 60vh;"> <div style="text-align: center;"> <h1 style="font-family: Roboto;font-style: normal;font-weight: normal;font-size: 56px;line-height: 42px;color: #646464;">Error 404</h1> <a style="text-decoration: none;font-family: Roboto;font-style: normal;font-weight: normal;font-size: 22px;line-height: 14px;color: #1889E6;" href="./">go to /home page</a> </div></div>'

# Return 404 if original request is .php
RewriteCond %{THE_REQUEST} "^[^ ]* .*?\.php[? ].*$"
RewriteRule .* - [L,R=404]